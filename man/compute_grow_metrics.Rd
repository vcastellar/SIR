% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/compute_grow_metrics.R
\name{compute_grow_metrics}
\alias{compute_grow_metrics}
\alias{compute_growth_metrics}
\title{Compute short-horizon growth metrics from an infection time series}
\usage{
compute_growth_metrics(infected)
}
\arguments{
\item{infected}{A univariate time series (typically a \code{ts}) of counts ordered in
time. In most epidemiological uses this is a \strong{cumulative} count series, but
the function will work for any numeric series with positive values.}
}
\value{
A named list with two numeric vectors:
\describe{
\item{inc_pct}{Vector of length \code{length(infected) - 1} with the one-step
relative increases.}
\item{doubling_days}{Vector of length \code{length(infected) - 4} with the implied
doubling time (in days) computed from the 4-point moving average of \code{inc_pct}.}
}
}
\description{
Computes two related growth metrics from a univariate time series of (typically)
\strong{cumulative} counts:
\enumerate{
\item \strong{Daily percent increase} (\code{inc_pct}): for each time step \eqn{t},
\deqn{inc\_pct_t = (x_{t+1} - x_t) / x_t}
This is the one-step \emph{relative} change, using the current value \eqn{x_t}
as the denominator.
\item \strong{Doubling time in days} (\code{doubling_days}): first computes a 4-point
\strong{left-aligned} moving average of \code{inc_pct} (call it \eqn{\alpha_t}),
then converts that average growth rate into an implied doubling time
under constant-rate exponential growth:
\deqn{\alpha_t = mean(inc\_pct_t, inc\_pct_{t+1}, inc\_pct_{t+2}, inc\_pct_{t+3})}
\deqn{doubling\_days_t = \log(2) / \log(1 + \alpha_t)}
}

The doubling-time formula comes from solving \eqn{2 = (1+\alpha)^k} for \eqn{k}.
If \eqn{1+\alpha_t \le 0} or \eqn{\alpha_t = 0} then the logarithm or division
may yield non-finite values; infinite results are replaced with \code{NA}.
}
\details{
\strong{Windowing / alignment}

The percent increase is computed for adjacent pairs \eqn{(x_t, x_{t+1})}.
The 4-point moving average of \code{inc_pct} is \strong{left-aligned}, meaning the value at
position \eqn{t} summarizes growth from \eqn{t} through \eqn{t+3}.

\strong{Practical notes}
\itemize{
\item If \code{infected} contains zeros, \code{inc_pct} will be \code{Inf} or \code{NaN} at those points.
This will propagate into \code{alpha} and \code{doubling_days}.
\item Negative or decreasing series can produce \eqn{\alpha < 0}, for which
\eqn{\log(1+\alpha)} may be undefined when \eqn{1+\alpha \le 0}.
}
}
\examples{
infected <- ts(c(100, 110, 121, 133, 146, 161))
out <- compute_growth_metrics_base(infected)
out$inc_pct
out$doubling_days
}
