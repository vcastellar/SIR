% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/optimizador.R
\name{fit_epi_model}
\alias{fit_epi_model}
\title{Fit an epidemic model by trajectory matching}
\usage{
fit_epi_model(
  x,
  model = SIR_MODEL,
  loss = c("logrmse", "rmse"),
  init = list(N = 1e+06, I0 = 10, R0 = 0),
  n_starts = 20,
  control = list(maxit = 500),
  seed = NULL,
  eps = 1e-06
)
}
\arguments{
\item{x}{Numeric vector of observed incidence.}

\item{model}{An \code{epi_model} object.}

\item{loss}{Loss function: \code{"logrmse"} (default) or \code{"rmse"}.}

\item{init}{Named list passed to \code{model$make_init()}.}

\item{n_starts}{Number of random multi-start initializations.}

\item{control}{Control list passed to \code{optim()}.}

\item{seed}{Optional random seed.}
}
\value{
An object of class \code{"fit_epi_model"}.
}
\description{
Fits a deterministic epidemic model to incidence data by minimizing a
trajectory-matching loss (RMSE or log-RMSE) between observed and simulated
incidence.
}
\examples{
\dontrun{
## Simulate a SIRS epidemic and fit the model to observed incidence
sim <- simulate_epi(
  model = SIRS_MODEL,
  n_days = 200,
  parms = SIRS_MODEL$defaults,
  init_args = list(N = 1e6, I0 = 20, R0 = 0),
  obs = "negbin",
  rho = 1,
  seed = 22
 )
plot(sim)
x <- sim$incidence_obs$inc
## Fit with log-RMSE (no likelihood, size ignored)
fit_rmse <- fit_epi_model(
  x = x,
  model = SIRS_MODEL,
  loss = "logrmse",
  init = list(N = 1e6, I0 = 20, R0 = 0)
  )
print(fit_rmse)
}
}
