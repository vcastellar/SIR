% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/constructor.R
\name{epi_model}
\alias{epi_model}
\title{Define an epidemic model}
\usage{
epi_model(
  name,
  rhs,
  par_names,
  states,
  flows = character(0),
  roles = NULL,
  lower = NULL,
  upper = NULL,
  defaults = NULL,
  init = NULL
)
}
\arguments{
\item{name}{Character scalar. Human-readable name of the model (e.g. "SIR").}

\item{rhs}{Function defining the ODE system. Must have signature
\code{function(time, state, parms)} and return a list whose first element
is the vector of state derivatives.}

\item{par_names}{Character vector of parameter names.}

\item{states}{Character vector of state variable names.}

\item{roles}{Optional named list mapping epidemiological roles to variable
names (states or outputs). Role names must belong to the standard
vocabulary defined in \code{.epi_role_vocab()}.}

\item{lower}{Optional named numeric vector of lower parameter bounds.}

\item{upper}{Optional named numeric vector of upper parameter bounds.}

\item{defaults}{Optional named numeric vector of default parameter values.}

\item{init}{Optional named numeric vector of default initial conditions.}

\item{outputs}{Character vector of named outputs returned by the RHS.
Must include all state variables.}
}
\value{
An object of class \code{"epi_model"}.
}
\description{
Defines a deterministic compartmental epidemic model governed by a system
of ordinary differential equations (ODEs). The model explicitly declares its
state variables, parameters, model outputs, and optional epidemiological roles.

Epidemiological roles assign semantic meaning (e.g. infectious, incidence)
to specific state variables or auxiliary outputs, enabling generic
epidemiological metrics and summaries to operate consistently across models.
}
\details{
\subsection{Epidemiological roles}{

Roles provide a semantic layer on top of model variables. For example,
different models may use different variable names for infectious individuals,
but assigning the \code{"infectious"} role allows epidemiological metrics to
remain model-agnostic.

Supported roles are:
\itemize{
\item \strong{susceptible}
\item \strong{exposed}
\item \strong{infectious}
\item \strong{recovered}
\item \strong{deceased}
\item \strong{incidence}
\item \strong{deaths}
}

Not all roles must be defined for every model. Metrics depending on missing
roles should fail explicitly.
}
}
\examples{
sir_rhs <- function(time, state, parms) {
with(as.list(c(state, parms)), {

  N <- S + I + R

  lambda <- beta * S * I / N

  dS <- -lambda
  dI <-  lambda - gamma * I
  dR <-  gamma * I


  list(
    c(dS, dI, dR),

    ## flujos instantÃ¡neos
    incidence = lambda,
    recovery  = gamma * I
  )
})
}
sir <- epi_model(
  name = "SIR",
  rhs  = sir_rhs,
  states = c("S", "I", "R"),
  par_names   = c("beta", "gamma")
)

}
